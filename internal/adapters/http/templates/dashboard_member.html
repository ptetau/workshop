{{ define "content" }}
<div class="card">
    <h1>My Dashboard</h1>

    {{ if .TrainingLog }}
    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin: 1.5rem 0;">
        <div style="background: #e8f5e9; padding: 1.25rem; border-radius: 8px; text-align: center;">
            <div style="font-size: 1.75rem; font-weight: bold; color: #2e7d32;">{{ .TrainingLog.TotalClasses }}</div>
            <div style="color: #666; margin-top: 0.25rem;">Classes</div>
        </div>
        <div style="background: #e3f2fd; padding: 1.25rem; border-radius: 8px; text-align: center;">
            <div style="font-size: 1.75rem; font-weight: bold; color: #1565c0;">{{ printf "%.0f" .TrainingLog.TotalMatHours }}h</div>
            <div style="color: #666; margin-top: 0.25rem;">Mat Hours</div>
        </div>
        <div style="background: #fff3e0; padding: 1.25rem; border-radius: 8px; text-align: center;">
            <div style="font-size: 1.75rem; font-weight: bold; color: #e65100;">{{ .TrainingLog.CurrentStreak }}w</div>
            <div style="color: #666; margin-top: 0.25rem;">Streak</div>
        </div>
    </div>
    {{ end }}

    {{ if .TrainingGoal }}
    <div style="background: #f3e5f5; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem;">
        <strong>Training Goal:</strong> {{ .TrainingGoal.Target }}x {{ .TrainingGoal.Period }}
    </div>
    {{ end }}

    {{ if gt .UnreadCount 0 }}
    <div style="background: #ffebee; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem; border-left: 4px solid #c62828;">
        <strong>{{ .UnreadCount }} unread message{{ if gt .UnreadCount 1 }}s{{ end }}</strong>
    </div>
    {{ end }}

    <h2>Today's Classes</h2>
    {{ if .TodaysClasses }}
    <table style="width: 100%; border-collapse: collapse; margin-bottom: 1.5rem;">
        <thead>
            <tr style="background: #f8f9fa; border-bottom: 2px solid #dee2e6;">
                <th style="padding: 0.5rem; text-align: left;">Time</th>
                <th style="padding: 0.5rem; text-align: left;">Class</th>
                <th style="padding: 0.5rem; text-align: left;">Program</th>
            </tr>
        </thead>
        <tbody>
            {{ range .TodaysClasses }}
            <tr style="border-bottom: 1px solid #dee2e6;">
                <td style="padding: 0.5rem;">{{ .StartTime }} - {{ .EndTime }}</td>
                <td style="padding: 0.5rem; font-weight: 600;">{{ .ClassTypeName }}</td>
                <td style="padding: 0.5rem;">{{ .ProgramName }}</td>
            </tr>
            {{ end }}
        </tbody>
    </table>
    {{ else }}
    <p style="color: #6c757d; font-style: italic;">No classes scheduled today.</p>
    {{ end }}

    {{ if .Notices }}
    <h2>Notices</h2>
    {{ range .Notices }}
    <div style="background: #f8f9fa; padding: 1rem; border-radius: 6px; margin-bottom: 0.75rem; border-left: 4px solid #007bff;">
        <strong>{{ .Title }}</strong>
        <p style="margin: 0.5rem 0 0; color: #555;">{{ .Content }}</p>
    </div>
    {{ end }}
    {{ end }}

    <h2>Quick Links</h2>
    <div style="display: flex; flex-wrap: wrap; gap: 0.75rem; margin-top: 1rem;">
        <a href="/training-log" style="background: #007bff; color: white; padding: 0.5rem 1rem; border-radius: 6px; text-decoration: none; font-weight: 600;">Training Log</a>
        <a href="/messages" style="background: #e83e8c; color: white; padding: 0.5rem 1rem; border-radius: 6px; text-decoration: none; font-weight: 600;">Messages</a>
    </div>
</div>
{{ end }}
